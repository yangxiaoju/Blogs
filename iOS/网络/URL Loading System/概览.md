# URL 加载系统

通过从 URL 会话创建数据任务将数据直接接收到内存中。

## 概览

URL 加载系统使用标准协议（如 https 或你创建的自定义协议）提供对 URL 标识的资源的访问。加载是异步执行的，因此你的应用程序可以保持响应并在到达时处理传入的数据或错误。

你可以使用 URLSession 实例创建一个或多个 URLSessionTask 实例，这些实例可以获取数据并将数据返回到应用程序，下载文件或将数据和文件上载到远程位置。要配置会话，请使用 URLSessionConfiguration 对象，该对象控制如何使用缓存和 cookie 或是否允许蜂窝网络上的连接等行为。

你可以重复使用一个会话来创建任务。例如，Web 浏览器可能具有用于常规和私人浏览使用的单独会话，其中私有会话不缓存其数据。图1显示了具有这些配置的两个会话如何创建多个任务。

图1 从 URL 会话创建任务

![](https://docs-assets.developer.apple.com/published/4bf9c6d271/6789dd96-afdc-4c18-b8eb-01f9012dc04d.png)

每个会话都与一个 delegate 相关联，以接收定期更新（或错误）。默认 delegate 调用你提供的完成处理程序 block; 如果你选择提供自己的自定义 delegate，则不会调用此 block。

你可以将会话配置为在后台运行，以便在应用程序暂停时，系统可以代表它下载数据并唤醒应用程序以提供结果。